<!DOCTYPE html>

<html>
  <head>
    <title>Firedoom Demo</title>
    
    <script src='vendor/jquery.min.js'></script>
    
    <script src='vendor/jf-signals/lib/signals.js'></script>
    <script src='vendor/jf-classkit/lib/classkit.js'></script>
    <script src='vendor/jf-mathkit/lib/mathkit.js'></script>
    
    <script src='lib/firedoom.js'></script>
    <script src='lib/Engine.js'></script>
    <script src='lib/Registry.js'></script>
    <script src='lib/Compiler.js'></script>
    <script src='lib/World.js'></script>
    
    <script src='lib/blueprint/index.js'></script>
    <script src='lib/blueprint/Component.js'></script>
    <script src='lib/blueprint/System.js'></script>
    <script src='lib/blueprint/Event.js'></script>
    <script src='lib/blueprint/EventCategory.js'></script>
    
    <script>
      function init() {
        
        var env = {};
        env.canvas = document.getElementById('canvas');
        env.ctx = env.canvas.getContext('2d');
        
        var engine = new fd.Engine();
        engine.setEnvironment(env);
        
        engine.load('system', 'physics', 'demo/systems/physics.js');
        engine.load('system', 'physics', 'demo/systems/test.js');
        engine.load('component', 'position', 'demo/components/position.js');
        engine.load('component', 'physics', 'demo/components/physics.js');
        engine.load('category', 'physics', 'demo/events/physics.js');
        engine.load('event', 'collision', 'demo/events/physics/collision.js');
        
        engine.init(function(success) {
          if (success) {
            engine.start();
          } else {
            console.log('engine init failed');
          }
        });
        
      }
    </script>
    
  </head>
  <body onload='init()'>
    <canvas id='canvas' width='800' height='600'></canvas>
  </body>
</html>